<div id="homepage">
  <div id="main-content" data-logged-in-user="<%= username %>" data-current-message="<%= remark %>">
    <nav class="topbar">
      <div class="container">
        <span class="branding">
          <i class="chatkin-icon icon-logo-chatkin"></i> chatkin
          <div class="logo-bg"></div>
        </span>
        <span class="zone-info">
          <span class="zone-name" v-if="currentZone">#{{currentZone}}</span>
          <i class="chatkin-icon icon-location" v-on:click="focusHiddenInput" v-if="currentZone"></i>
          <input type="text" id="zone-details-hidden-input" class="offscreen" v-on:focus="zoneDetailsVisible = true" v-on:blur="zoneDetailsVisible = false" placeholder="Focusing this input shows the zone details."/>
          <div class="zone-details" v-bind:class="zoneDetailsVisible ? 'visible' : ''">
            <h4>Zone #{{currentZone}}:</h4>
            <div id="map"></div>
            <span v-if="numOthersInZone === 0">You are the only one here.</span>
            <span v-else>There {{numOthersInZone === 1 ? 'is' : 'are'}} {{numOthersInZone}} other {{numOthersInZone === 1 ? 'person' : 'people'}}  here.</span>
          </div>
        </span>
      </div>
    </nav>
    <div class="container">
      <div class="window" id="message-window">
        <div class="syncing-box" v-if="syncingLocation || errorFetchingLocation || communicatingWithServer">
          <div class="chat-buddy">
            <i class="chatkin-icon icon-logo-chatkin"></i>
          </div>
          <div v-if="syncingLocation" class="loading-message">Getting location from browser...</div>
          <div v-else-if="errorFetchingLocation" class="loading-message">Error fetching location.</div>
          <div v-else-if="communicatingWithServer" class="loading-message">Communicating with server...</div>
        </div>
        <!-- <div v-else class="panel-heading">Welcome, <strong><%= username %></strong>!</div> -->
        <div id="activity">
          <div class="message you">
            <div class="avatar">
              <i class="chatkin-icon icon-logo-chatkin" style="color: <%= avatarColor %>"></i>
              <p>{{username}}</p>
            </div>
            <p>{{message}}</p>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="form">
    <div class="container">
      <input v-model="message"
        v-bind:disabled="(syncingLocation || errorFetchingLocation || communicatingWithServer)"
        v-on:keyup.enter="updateRemark"
        type="text"
        class="form-control input-lg"
        placeholder="Add a message!"
        value="<%= remark %>">
    </div>
  </div>
</div>
